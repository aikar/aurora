/*** Generated by streamline 0.1.44rt1 - DO NOT EDIT ***/ "use strict"; var __rt=require('streamline/lib/compiler/runtime')(__filename),__func=__rt.__func,__cb=__rt.__cb,__propagate=__rt.__propagate,__trap=__rt.__trap,__future=__rt.__future,__setEF=__rt.__setEF,__g=__rt.__g; var streams = require("./streams");












exports.send = function exports_send__1(_, url, obj) { var json, result; var __frame = { name: "exports_send__1", line: 14 }; return __func(_, this, arguments, exports_send__1, 0, __frame, function __$exports_send__1() {
 json = ((obj && (typeof obj !== "string")) ? JSON.stringify(obj) : obj);




 return streams.httpRequest({ url: url, method: (json ? "POST" : "GET"), headers: { "content-type": "application/json" } }).end(json, "utf8").response(__cb(_, __frame, 6, 14, function ___(__0, __1) { return __1.readAll(__cb(_, __frame, 6, 14, function ___(__0, __2) { result = __2;
 return _(null, JSON.parse(result)); })); })); });};